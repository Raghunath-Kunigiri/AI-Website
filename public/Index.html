<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Sources Directory | Professional Resource Hub</title>
    <link rel="stylesheet" href="output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50 min-h-screen font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <a href="Index.html" class="flex items-center space-x-2 hover:text-gray-200 transition">
                        <i class="fas fa-robot text-3xl"></i>
                        <h1 class="text-2xl font-bold">AI Sources Hub</h1>
                    </a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="searchBtn" class="p-2 rounded-full hover:bg-white/10 transition">
                        <i class="fas fa-search"></i>
                    </button>
                    <a href="user.html" class="inline-flex items-center px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition font-medium" id="userBtn">
                        <i class="fas fa-user mr-2"></i><span id="userBtnText">User Login</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Search Modal -->
    <div id="searchModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-xl p-6 w-full max-w-2xl mx-4 animate-slide-up">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-gray-800">Search AI Sources</h2>
                <button id="closeSearch" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="relative">
                <input type="text" id="searchInput" placeholder="Search by name, category, or tags..."
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                <button class="absolute right-3 top-3 text-gray-500">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="mt-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">Popular Tags:</h3>
                <div class="tag-cloud">
                    <span class="inline-block px-3 py-1 text-xs rounded-full bg-blue-100 text-blue-800">chatbot</span>
                    <span class="inline-block px-3 py-1 text-xs rounded-full bg-purple-100 text-purple-800">art</span>
                    <span class="inline-block px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">developer</span>
                    <span class="inline-block px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">audio</span>
                    <span class="inline-block px-3 py-1 text-xs rounded-full bg-red-100 text-red-800">video</span>
                    <span class="inline-block px-3 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800">research</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Hero Section -->
        <section class="mb-12 bg-gradient-to-r from-primary to-secondary rounded-xl shadow-lg p-8 text-white">
            <div class="max-w-3xl">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">Discover the Best AI Resources</h2>
                <p class="text-lg mb-6 opacity-90">Explore our curated collection of cutting-edge AI tools, models, and platforms to supercharge your projects and research.</p>
                <div class="flex flex-wrap gap-3">
                    <button class="px-6 py-3 bg-white text-primary rounded-lg font-medium hover:bg-gray-100 transition">
                        <i class="fas fa-rocket mr-2"></i>Get Started
                    </button>
                    <button class="px-6 py-3 border border-white/30 rounded-lg font-medium hover:bg-white/10 transition">
                        <i class="fas fa-book mr-2"></i>Learn More
                    </button>
                </div>
            </div>
        </section>

        <!-- Filters -->
        <div class="mb-8 bg-white rounded-xl shadow-sm p-4">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <h2 class="text-xl font-semibold text-gray-800 mb-4 md:mb-0">Filter AI Sources</h2>
                <div class="flex flex-wrap gap-2">
                    <button class="category-filter px-4 py-2 rounded-full bg-primary text-white hover:bg-primary/90 transition" data-category="all">All Sources</button>
                    <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition" data-category="Text Generation">Text Generation</button>
                    <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition" data-category="Image Generation">Image Generation</button>
                    <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition" data-category="Code Assistance">Code Assistance</button>
                    <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition" data-category="Voice Synthesis">Voice Synthesis</button>
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <div class="bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition">
                <div class="flex items-center space-x-4">
                    <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                        <i class="fas fa-robot text-xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500">Total Sources</p>
                        <h3 id="totalSources" class="text-2xl font-bold text-gray-800">0</h3>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition">
                <div class="flex items-center space-x-4">
                    <div class="p-3 rounded-full bg-green-100 text-green-600">
                        <i class="fas fa-tags text-xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500">Categories</p>
                        <h3 id="totalCategories" class="text-2xl font-bold text-gray-800">0</h3>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition">
                <div class="flex items-center space-x-4">
                    <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                        <i class="fas fa-star text-xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500">Featured</p>
                        <h3 id="featuredSources" class="text-2xl font-bold text-gray-800">0</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sources Grid -->
        <div id="sourcesContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="text-center py-12 text-gray-500">
                <i class="fas fa-spinner fa-spin text-4xl mb-4"></i>
                <p>Loading AI sources...</p>
            </div>
        </div>
    </main>

    <!-- Newsletter Section -->
    <section class="bg-gray-100 py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Stay Updated with AI Trends</h2>
                <p class="text-gray-600 mb-6">Subscribe to our newsletter to receive the latest AI tools, research papers, and industry news directly to your inbox.</p>
                <form class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
                    <input type="email" placeholder="Your email address"
                           class="flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                    <button type="submit" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition font-medium">
                        Subscribe
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fas fa-robot mr-2"></i> AI Sources Hub
                    </h3>
                    <p class="text-gray-400">The most comprehensive directory of AI tools and resources for developers and researchers.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Home</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Categories</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Featured Tools</a></li>
                        <li><a href="admin.html" class="text-gray-400 hover:text-white transition">Admin Login</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Resources</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Documentation</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">API</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Blog</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Connect</h3>
                    <div class="flex space-x-4 mb-4">
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-github"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-discord"></i></a>
                    </div>
                    <p class="text-gray-400 text-sm">support@aisourceshub.com</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>© 2025 AI Sources Hub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const searchBtn = document.getElementById('searchBtn');
        const searchModal = document.getElementById('searchModal');
        const closeSearch = document.getElementById('closeSearch');
        const searchInput = document.getElementById('searchInput');
        const userBtn = document.getElementById('userBtn');
        const userBtnText = document.getElementById('userBtnText');
        const sourcesContainer = document.getElementById('sourcesContainer');
        const categoryFilters = document.querySelectorAll('.category-filter');
        const totalSources = document.getElementById('totalSources');
        const totalCategories = document.getElementById('totalCategories');
        const featuredSources = document.getElementById('featuredSources');

        // State
        let currentFilter = 'all';
        let currentSearch = '';
        let isLoggedIn = false;
        let loggedInUser = null;

        // Simulated Database (localStorage)
        const defaultSources = [
            { id: 1, name: "Grok 3", category: "Text Generation", url: "https://x.ai/grok", description: "AI assistant by xAI for answering queries.", tags: "chatbot, assistant", featured: true },
            { id: 2, name: "ChatGPT", category: "Text Generation", url: "https://openai.com", description: "Conversational AI by OpenAI.", tags: "chatbot, nlp", featured: false },
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Check if user is logged in
            const userData = localStorage.getItem('loggedInUser');
            if (userData) {
                isLoggedIn = true;
                loggedInUser = JSON.parse(userData);
                userBtnText.textContent = 'Logout';
            }

            // Initialize sources if not present
            if (!localStorage.getItem('aiSources')) {
                localStorage.setItem('aiSources', JSON.stringify(defaultSources));
            }

            renderSources();
            updateStats();

            // Tag cloud click listeners
            document.querySelectorAll('.tag-cloud span').forEach(tag => {
                tag.addEventListener('click', () => {
                    searchInput.value = tag.textContent;
                    currentSearch = tag.textContent.toLowerCase();
                    renderSources();
                    searchModal.classList.add('hidden');
                });
            });
        });

        // Event Listeners
        searchBtn.addEventListener('click', () => {
            searchModal.classList.remove('hidden');
            searchInput.focus();
        });

        closeSearch.addEventListener('click', () => {
            searchModal.classList.add('hidden');
        });

        searchInput.addEventListener('input', (e) => {
            currentSearch = e.target.value.toLowerCase();
            renderSources();
        });

        userBtn.addEventListener('click', (e) => {
            if (isLoggedIn) {
                e.preventDefault();
                isLoggedIn = false;
                loggedInUser = null;
                localStorage.removeItem('loggedInUser');
                userBtnText.textContent = 'User Login';
                renderSources();
            }
        });

        categoryFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                categoryFilters.forEach(f => {
                    f.classList.remove('bg-primary', 'text-white');
                    f.classList.add('bg-gray-200', 'text-gray-800');
                });
                filter.classList.remove('bg-gray-200', 'text-gray-800');
                filter.classList.add('bg-primary', 'text-white');
                currentFilter = filter.dataset.category;
                renderSources();
            });
        });

        // Functions
        function getSources() {
            return JSON.parse(localStorage.getItem('aiSources')) || [];
        }

        function saveSources(sources) {
            localStorage.setItem('aiSources', JSON.stringify(sources));
        }

        function getFavorites() {
            if (!loggedInUser) return [];
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === loggedInUser.email);
            return user ? user.favorites || [] : [];
        }

        function toggleFavorite(sourceId) {
            if (!loggedInUser) return;
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userIndex = users.findIndex(u => u.email === loggedInUser.email);
            if (userIndex === -1) return;

            const favorites = users[userIndex].favorites || [];
            if (favorites.includes(sourceId)) {
                users[userIndex].favorites = favorites.filter(id => id !== sourceId);
            } else {
                users[userIndex].favorites = [...favorites, sourceId];
            }
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('loggedInUser', JSON.stringify(users[userIndex]));
            renderSources();
        }

        function renderSources() {
            const sources = getSources();
            const filteredSources = sources.filter(source => {
                const matchesCategory = currentFilter === 'all' || source.category === currentFilter;
                const matchesSearch = currentSearch === '' ||
                    source.name.toLowerCase().includes(currentSearch) ||
                    source.description.toLowerCase().includes(currentSearch) ||
                    (source.tags && source.tags.toLowerCase().includes(currentSearch));
                return matchesCategory && matchesSearch;
            });

            if (filteredSources.length === 0) {
                sourcesContainer.innerHTML = `
                    <div class="col-span-full text-center py-12 text-gray-500">
                        <i class="fas fa-search text-4xl mb-4"></i>
                        <p>No AI sources found matching your criteria.</p>
                    </div>
                `;
                return;
            }

            const favorites = getFavorites();
            sourcesContainer.innerHTML = filteredSources.map(source => {
                const tagArray = source.tags ? source.tags.split(',').map(tag => tag.trim()) : [];
                const tagsHtml = tagArray.map(tag => `<span class="inline-block px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800">${tag}</span>`).join('');
                const featuredBadgeHtml = source.featured ? `<div class="featured-badge">Featured</div>` : '';
                const isFavorite = favorites.includes(source.id);
                const favoriteBtnHtml = isLoggedIn ? `
                    <button class="favorite-btn p-2 rounded-full ${isFavorite ? 'bg-yellow-100 text-yellow-600' : 'bg-gray-100 text-gray-600'} hover:bg-yellow-200 transition" data-id="${source.id}">
                        <i class="fas fa-star"></i>
                    </button>
                ` : '';

                return `
                    <div class="bg-white rounded-xl shadow-sm overflow-hidden relative card-hover transition">
                        ${featuredBadgeHtml}
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="text-xl font-semibold text-gray-800">${source.name}</h3>
                                <span class="px-3 py-1 text-xs rounded-full bg-primary/10 text-primary">${source.category}</span>
                            </div>
                            <p class="text-gray-600 mb-4">${source.description}</p>
                            <div class="flex flex-wrap gap-2 mb-4">${tagsHtml}</div>
                            <div class="flex justify-between items-center">
                                <a href="${source.url}" target="_blank" class="inline-block px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition">
                                    <i class="fas fa-external-link-alt mr-2"></i>Visit
                                </a>
                                ${favoriteBtnHtml}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            if (isLoggedIn) {
                document.querySelectorAll('.favorite-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const sourceId = parseInt(e.currentTarget.getAttribute('data-id'));
                        toggleFavorite(sourceId);
                    });
                });
            }
        }

        function updateStats() {
            const sources = getSources();
            const categories = [...new Set(sources.map(s => s.category))];
            const featured = sources.filter(s => s.featured).length;
            totalSources.textContent = sources.length;
            totalCategories.textContent = categories.length;
            featuredSources.textContent = featured;
        }
        const API_URL = window.location.hostname.includes('localhost')
    ? 'http://localhost:8000/api'
    : 'https://aisources.onrender.com/api';
    </script>
</body>
</html>